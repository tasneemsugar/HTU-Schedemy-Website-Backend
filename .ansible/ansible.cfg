# Ansible Configuration File
# This file configures how Ansible behaves

[defaults]
# Where to look for inventory files
inventory = ./inventory

# Where to look for roles (we're not using roles in this project, but good to know)
roles_path = ./roles

# Disable host key checking (since EC2 instances change frequently)
# WARNING: In super-secure environments, you might want to keep this enabled
host_key_checking = False

# Number of parallel processes (how many servers to configure at once)
forks = 10

# Timeout for SSH connections (in seconds)
timeout = 30

# Where to store temporary files on remote servers
remote_tmp = /tmp/.ansible-${USER}

# Display format for output
stdout_callback = yaml

# Show timing information for each task
callbacks_enabled = timer, profile_tasks

# Retry file path (when a playbook fails, Ansible creates a retry file)
retry_files_enabled = False

# Logging (optional - uncomment to enable logging)
# log_path = ./ansible.log

[inventory]
# Enable plugins for dynamic inventory
enable_plugins = aws_ec2, ini, yaml

# Cache settings for dynamic inventory (speeds up repeated runs)
cache = True
cache_plugin = jsonfile
cache_connection = /tmp/ansible_inventory_cache
cache_timeout = 3600

[privilege_escalation]
# Settings for 'become' (sudo)
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# SSH settings
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# Increase timeout for slow connections
timeout = 30
